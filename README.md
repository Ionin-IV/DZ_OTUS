# Домашнее задание по лекции "CAP теорема"

## Задание

Необходимо написать к каким системам по CAP теореме относятся перечисленные БД и почему:
MongoDB, MSSQL, Cassandra.

## Ответ

MongoDB я отношу к системе AP, т.к.:
- узлы без использования шардирования содержат одинаковые данные, а с шардированием разные; возьмём втрой вариант - значит не С
- возможен доступ к кластеру, при недоступных узлах - значит А
- 

MSSQL (в варианте групп доступности AlwaysOn, как наиболее соответствующий распределённому кластеру) я отношу к системе CA, т.к.:
- узлы содержат одинаковые данные - значит С
- возможен доступ к "кластеру", при недоступных узлах - значит А
- узлы не могут продолжать одновременно работать при разрыве сети, т.к. это будет split-brain - значит не Р

Примечание по MSSQL:
- Вариант классического отказоустойчивого кластера не рассматриваю, т.к. при этом нет распределения данных. По факту, есть одно хранилище с набором дисков, которые, в случае падения сервера с активным экземпляром СУБД, переключаются к другому серверу, где запускается свой экземпляр.
- Вариант зеркалирования тоже не рассматриваю, т.к. при этом идёт репликация данных только выбранных БД. Соответственно, при потере основного сервера, на зеркалах мы не получим его полную рабочую копию.

Cassandra я отношу к системе AP, т.к.:
- узлы кластера содержат разные данные - значит не С
- возможен доступ к кластеру, при недоступных узлах - значит А
- узлы продолжают работать даже если есть недоступность по сети, а после восстановления сбоя сети, данные синхронизируются - значит Р
